<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <meta charset="utf-8">
  <title>Test 2</title>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f0f0f0;
      flex-direction: column;
    }
    
  </style>
</head>
<body>

  

  <script>
   // Sinusoidal marquee with slider controls and path animation
const svgNS = "http://www.w3.org/2000/svg";
const svg = document.createElementNS(svgNS, "svg");
svg.setAttribute("width", window.innerWidth);
svg.setAttribute("height", window.innerHeight);
svg.style.display = "block";
svg.style.position = "absolute";
svg.style.top = 0;
svg.style.left = 0;
document.body.appendChild(svg);

const controls = document.createElement("div");
controls.style.position = "fixed";
controls.style.top = "10px";
controls.style.left = "10px";
controls.style.background = "rgba(255,255,255,0.8)";
controls.style.padding = "10px";
controls.style.borderRadius = "10px";
controls.innerHTML = `
    <label>Frequency: <input type="range" id="tightness" min="0.1" max="2" step="0.01" value="1"><span id="freqValue">1</span></label><br>
    <label>Amplitude: <input type="range" id="stepSize" min="50" max="400" step="1" value="200"><span id="ampValue">200</span></label><br>
    <label>Number of Paths: <input type="range" id="spirals" min="1" max="10" step="1" value="5"></label>
`;
document.body.appendChild(controls);

const centerX = window.innerWidth / 2;
const centerY = window.innerHeight / 2;

function createSinPaths(frequency, amplitude, numPaths) {
    svg.innerHTML = ""; // Clear existing paths/texts

    for (let s = 0; s < numPaths; s++) {
        const path = document.createElementNS(svgNS, "path");
        path.setAttribute("fill", "none");
        path.setAttribute("stroke", "black");
        path.setAttribute("stroke-width", "1.5");

        const pathId = `path${s}`;
        path.setAttribute("id", pathId);
        svg.appendChild(path);

        let d = `M ${centerX} ${centerY}`;
        let t = 0;

        function drawStep() {
            for (let i = 0; i < 10; i++) {
                const theta = t * 0.01 + s * Math.PI * 2 / numPaths;
                const radius = amplitude * Math.sin(theta * frequency);
                const x = centerX + t * 0.5 * Math.cos(theta);
                const y = centerY + radius;
                d += ` L ${x} ${y}`;
                t++;
                if (x < 0 || x > window.innerWidth || y < 0 || y > window.innerHeight) break;
            }
            path.setAttribute("d", d);
            if (t < 2000) requestAnimationFrame(drawStep);
        }
        drawStep();

        const text = document.createElementNS(svgNS, "text");
        text.setAttribute("font-size", "16");
        text.setAttribute("fill", "blue");

        const textPath = document.createElementNS(svgNS, "textPath");
        textPath.setAttribute("href", `#${pathId}`);
        textPath.setAttribute("startOffset", "0%");
        textPath.textContent = `This is wave #${s + 1} â€” `.repeat(10);

        text.appendChild(textPath);
        svg.appendChild(text);

        // Animate marquee 4x slower
        let offset = 0;
        function animateText() {
            offset += 0.25;
            if (offset > 100) offset = 0;
            textPath.setAttribute("startOffset", `${offset}%`);
            requestAnimationFrame(animateText);
        }
        animateText();
    }
}

function updatePaths() {
    const frequency = parseFloat(document.getElementById("tightness").value);
    const amplitude = parseInt(document.getElementById("stepSize").value);
    const paths = parseInt(document.getElementById("spirals").value);
    document.getElementById("freqValue").textContent = frequency;
    document.getElementById("ampValue").textContent = amplitude;
    createSinPaths(frequency, amplitude, paths);
}

document.getElementById("tightness").addEventListener("input", updatePaths);
document.getElementById("stepSize").addEventListener("input", updatePaths);
document.getElementById("spirals").addEventListener("input", updatePaths);

// Initial render
updatePaths();

  </script>
  
</body>
</html>
